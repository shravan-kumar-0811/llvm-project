## Test the --private-headers option for XCOFF object files.

# RUN: yaml2obj -DMAGIC=0x1DF %s -o %t_xcoff32.o
# RUN: yaml2obj -DMAGIC=0x1F7 %s -o %t_xcoff64.o
# RUN: llvm-objdump --private-headers %t_xcoff32.o |\
# RUN:   FileCheck %s --check-prefixes=CHECK32 --match-full-lines
# RUN: llvm-objdump --private-headers %t_xcoff64.o |\
# RUN:   FileCheck %s --check-prefixes=CHECK64 --match-full-lines

--- !XCOFF
FileHeader:
  MagicNumber:       [[MAGIC]]
Sections:
  - Name:            .text
    Flags:           [ STYP_TEXT ]
    SectionData:     "9061FFF880820000"
  - Name:            .data
    Flags:           [ STYP_DATA ]
    SectionData:     "0000000000000FC0"

# CHECK32:      ---File Header:
# CHECK32-NEXT: Magic:              0x1df
# CHECK32-NEXT: NumberOfSections:   2
# CHECK32-NEXT: TimeStamp:          None (0)
# CHECK32-NEXT: SymbolTableOffset:  0x0
# CHECK32-NEXT: SymbolTableEntries: 0
# CHECK32-NEXT: OptionalHeaderSize: 0x0
# CHECK32-NEXT: Flags:              0x0

# CHECK64:      ---File Header:
# CHECK64-NEXT: Magic:              0x1f7
# CHECK64-NEXT: NumberOfSections:   2
# CHECK64-NEXT: TimeStamp:          None (0)
# CHECK64-NEXT: SymbolTableOffset:  0x0
# CHECK64-NEXT: SymbolTableEntries: 0
# CHECK64-NEXT: OptionalHeaderSize: 0x0
# CHECK64-NEXT: Flags:              0x0

