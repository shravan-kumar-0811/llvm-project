; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 5
; RUN: llc < %s -mtriple=x86_64-apple-darwin | FileCheck %s
; Formerly there were two shifts.  rdar://8771012.

define i32 @f9188_mul365384439_shift27(i32 %A) nounwind {
; CHECK-LABEL: f9188_mul365384439_shift27:
; CHECK:       ## %bb.0:
; CHECK-NEXT:    movl %edi, %eax
; CHECK-NEXT:    imulq $1461537755, %rax, %rax ## imm = 0x571D4BDB
; CHECK-NEXT:    shrq $61, %rax
; CHECK-NEXT:    ## kill: def $eax killed $eax killed $rax
; CHECK-NEXT:    retq
        %tmp1 = udiv i32 %A, 1577682821         ; <i32> [#uses=1]
        ret i32 %tmp1
}
